{"ast":null,"code":"var _jsxFileName = \"C:\\\\react projects\\\\todofromfinalexam\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport './App.css';\nimport Footer from './components/Footer';\nimport Form from './components/Form';\nimport Header from './components/Header';\nimport bg from './images/bg-desktop-light.jpg';\nimport bgdark from './images/bg-desktop-dark.jpg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet DataBase = JSON.parse(localStorage.getItem(\"todos\")) || [];\nlet darkTheme = JSON.parse(localStorage.getItem(\"darkTheme\")) || false;\n\nfunction App() {\n  _s();\n\n  /* ------------- Состояния ------------- */\n  const [data, setData] = useState(DataBase);\n  const [entry, setEntry] = useState('');\n  const [filter, setFilter] = useState(1);\n  const [filterData, setFilterData] = useState(DataBase);\n  const [theme, setTheme] = useState(darkTheme);\n  const [dragged, setDragged] = useState('');\n  const [draggedOver, setDraggedOver] = useState('');\n  useEffect(() => {\n    let newfilterData;\n\n    if (filter === 1) {\n      newfilterData = data;\n    } else if (filter === 2) {\n      newfilterData = data.filter(task => task.state === 1);\n    } else if (filter === 3) {\n      newfilterData = data.filter(task => task.state === 2);\n    }\n\n    setFilterData(newfilterData);\n  }, [data, filter]);\n  useEffect(() => {\n    localStorage.setItem(\"todos\", JSON.stringify(data));\n  }, [data]);\n  /*  Функции */\n\n  const handleEntry = event => {\n    setEntry(event.target.value);\n  };\n\n  const handleForm = event => {\n    event.preventDefault();\n    saveData({\n      task: entry\n    });\n  };\n\n  const handleTheme = () => {\n    localStorage.setItem(\"darkTheme\", JSON.stringify(!theme));\n    setTheme(!theme);\n  };\n  /*  Методы  */\n\n\n  const findNextID = () => {\n    if (data.length > 0) {\n      let ids = data.map(task => task.id);\n      const max = Math.max.apply(null, ids);\n      return max + 1;\n    } else {\n      return 1;\n    }\n  };\n\n  const saveData = obj => {\n    let proximoId = findNextID();\n    obj = { ...obj,\n      id: proximoId,\n      state: 1\n    };\n    let datosAGuardar = [...data, obj];\n    setData(datosAGuardar);\n    setEntry('');\n  };\n\n  const deleteById = id => {\n    let nuevosDatos = data.filter(task => task.id !== id);\n    setData(nuevosDatos);\n  };\n\n  const checkById = obj => {\n    let newState;\n\n    if (obj.state === 1) {\n      newState = 2;\n    } else {\n      newState = 1;\n    }\n\n    let nuevoDatos = data.map(el => el.id === obj.id ? { ...obj,\n      state: newState\n    } : el);\n    setData(nuevoDatos);\n  };\n\n  const clearAll = () => {\n    let nuevoDatos = data.filter(task => task.state === 1);\n    setData(nuevoDatos);\n  };\n\n  const handleFilter = just => {\n    setFilter(just);\n  };\n  /* DRAG AND DROP  */\n\n\n  const handleDragStart = id => {\n    setDragged(id);\n  };\n\n  const handleDragEnter = id => {\n    setDraggedOver(id);\n  };\n\n  const handleDragEnd = () => {\n    let newData = [...data];\n    let valorAMover = newData.splice(dragged, 1)[0];\n    newData.splice(draggedOver, 0, valorAMover);\n    setData(newData);\n  };\n  /*  Рендер  */\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: !theme ? 'App' : 'App App--Dark',\n    style: {\n      backgroundImage: `url(${theme ? bgdark : bg})`\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App__container\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        theme: theme,\n        handleTheme: handleTheme\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        theme: theme,\n        entry: entry,\n        handleEntry: handleEntry,\n        handleForm: handleForm,\n        data: data,\n        filter: filter,\n        filterData: filterData,\n        handleFilter: handleFilter,\n        deleteById: deleteById,\n        checkById: checkById,\n        clearAll: clearAll,\n        handleDragStart: handleDragStart,\n        handleDragEnter: handleDragEnter,\n        handleDragEnd: handleDragEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6iE+ccaeT8ydshlhl/y7cHXI9fk=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Footer","Form","Header","bg","bgdark","DataBase","JSON","parse","localStorage","getItem","darkTheme","App","data","setData","entry","setEntry","filter","setFilter","filterData","setFilterData","theme","setTheme","dragged","setDragged","draggedOver","setDraggedOver","newfilterData","task","state","setItem","stringify","handleEntry","event","target","value","handleForm","preventDefault","saveData","handleTheme","findNextID","length","ids","map","id","max","Math","apply","obj","proximoId","datosAGuardar","deleteById","nuevosDatos","checkById","newState","nuevoDatos","el","clearAll","handleFilter","just","handleDragStart","handleDragEnter","handleDragEnd","newData","valorAMover","splice","backgroundImage"],"sources":["C:/react projects/todofromfinalexam/src/App.js"],"sourcesContent":["import { useState,useEffect} from 'react';\nimport './App.css';\nimport Footer from './components/Footer';\nimport Form from './components/Form';\nimport Header from './components/Header';\nimport bg from './images/bg-desktop-light.jpg'\nimport bgdark from './images/bg-desktop-dark.jpg'\n\nlet DataBase =JSON.parse(localStorage.getItem(\"todos\")) || [];\nlet darkTheme = JSON.parse(localStorage.getItem(\"darkTheme\")) || false;\n\n\n\nfunction App() {\n\n/* ------------- Состояния ------------- */\n\n  const [data, setData] = useState(DataBase);\n  const [entry, setEntry] = useState('');\n  const [filter, setFilter] = useState(1);\n  const [filterData, setFilterData] = useState(DataBase);\n  const [theme, setTheme] = useState(darkTheme);\n\n  const [dragged, setDragged] = useState('');\n  const [draggedOver, setDraggedOver] = useState('');\n\n\nuseEffect(() => {\n\n  let newfilterData;\n  if(filter === 1){\n    newfilterData=data;\n  }else if(filter === 2){\n    newfilterData = data.filter(task => task.state === 1);\n  }else if(filter === 3){\n    newfilterData = data.filter(task => task.state === 2);\n  }\n\n  setFilterData(newfilterData);\n\n}, [data,filter]);\n\nuseEffect(() => {\n\nlocalStorage.setItem(\"todos\", JSON.stringify(data));\n\n\n}, [data]);\n\n  \n\n/*  Функции */\n\n  const handleEntry = (event) =>{\n    setEntry(event.target.value);\n  }\n\n  const handleForm = (event) =>{\n    event.preventDefault();\n    saveData({task:entry});\n  }\n\n  const handleTheme = () =>{\n    localStorage.setItem(\"darkTheme\", JSON.stringify(!theme));\n    setTheme(!theme);\n    \n  }\n\n/*  Методы  */\n\n\nconst findNextID = () =>{\n  if(data.length > 0){\n      let ids = data.map(task =>  task.id);\n      const max = Math.max.apply(null, ids);\n      return max+1;\n  }else{\n      return 1;\n  }\n}\n\nconst saveData = (obj) =>{\n      let proximoId = findNextID();\n      obj = {...obj,id:proximoId,state:1};\n      let datosAGuardar = [...data,obj];\n      setData(datosAGuardar);\n      setEntry('');\n}\n\nconst deleteById = (id) =>{\n      let nuevosDatos = data.filter(task => task.id !== id);\n      setData(nuevosDatos);\n}\n\nconst checkById = (obj) =>{\n      let newState;\n      if(obj.state===1){\n        newState=2;\n      }else{\n        newState=1;\n      }\n      let nuevoDatos = data.map(el => el.id === obj.id ? {...obj, state:newState}:el);\n      setData(nuevoDatos)\n}\n\nconst clearAll = () =>{\n    let nuevoDatos = data.filter(task => task.state === 1);\n    setData(nuevoDatos);\n}\n\nconst handleFilter = (just) =>{\n    setFilter(just);\n}\n\n/* DRAG AND DROP  */\n\nconst handleDragStart = (id)=>{\n  setDragged(id);\n  }\n\nconst handleDragEnter = (id) =>{\n setDraggedOver(id);\n}\n\nconst handleDragEnd = ()=>{\n let newData = [...data];\n let valorAMover = newData.splice(dragged,1)[0];\n newData.splice(draggedOver,0,valorAMover);\n setData(newData);\n}\n\n\n/*  Рендер  */\n\n  return (\n    <div className={!theme? 'App':'App App--Dark'} style={{ backgroundImage: `url(${theme? bgdark :bg})` }}>\n      <div className='App__container'>\n        <Header theme={theme} handleTheme={handleTheme}/>\n        <Form theme={theme} \n        entry={entry} \n        handleEntry={handleEntry} \n        handleForm={handleForm} \n        data={data} filter={filter} \n        filterData={filterData} \n        handleFilter={handleFilter} \n        deleteById={deleteById} \n        checkById={checkById} \n        clearAll={clearAll} \n        handleDragStart={handleDragStart} \n        handleDragEnter={handleDragEnter} \n        handleDragEnd={handleDragEnd}/>\n        <Footer/>\n      </div>\n      \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}